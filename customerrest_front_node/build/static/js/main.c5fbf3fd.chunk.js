(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,n){},232:function(e,t,n){e.exports=n(530)},530:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),l=n.n(c),o=(n(141),n(215)),u=n(216),i=n(217),s=n(230),m=n(218),p=n(231),f=n(26),d=n(6),h=n.n(d),E=n(14),b=n(19),v=n(531),y=n(219),j=n.n(y),g=n(139),O=n.n(g),w=function(e){var t=e.item,n=e.deleteCustomer,a=e.deleteTraining,c=Object.keys(t),l=Object.values(t).filter(function(e){return"string"===typeof e||"number"===typeof e}),o=c.filter(function(e,t){return t<l.length});return r.a.createElement("tr",null,o.map(function(e,n){return r.a.createElement("td",{className:"priority-".concat(n+1),key:n},t[e])}),t.firstname?r.a.createElement("td",null,r.a.createElement(v.a,{to:"/addtraining/".concat(t.links[0].href.match(/\d+/))},r.a.createElement(j.a,{className:"hoverableIcon"}))):null,t.firstname?r.a.createElement("td",null,r.a.createElement(O.a,{className:"hoverableIcon",onClick:function(){return n(t)}})):r.a.createElement("td",null,r.a.createElement(O.a,{className:"hoverableIcon",onClick:function(){return a(t)}})))},x=function(e){var t=e.data,n=e.deleteCustomer,a=e.deleteTraining;return r.a.createElement("tbody",null,t.map(function(e,t){return r.a.createElement(w,{key:t,deleteCustomer:n,deleteTraining:a,item:e})}))},k={fetchAll:function(){var e=Object(E.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://customerrest.herokuapp.com/api/customers");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(t.status),e.abrupt("return",n.content);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(E.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://customerrest.herokuapp.com/api/customers",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,console.log(n.status),e.abrupt("return",n.json());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteCustomer:function(){var e=Object(E.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://customerrest.herokuapp.com/api/customers/".concat(t),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,console.log(n.status),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},C=n(90),S=(n(160),function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),o=Object(b.a)(l,2),u=o[0],i=o[1],s=Object(a.useState)([]),m=Object(b.a)(s,2),p=m[0],d=m[1],v=Object(a.useState)([0]),y=Object(b.a)(v,2),j=y[0],g=y[1],O=Object(a.useState)(["firstname"]),w=Object(b.a)(O,2),S=w[0],D=w[1],N=n.filter(function(e){return e[S].toLowerCase().includes(u.toLowerCase())}),T=function(){var e=Object(E.a)(h.a.mark(function e(){var t,n,a,r,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.fetchAll();case 2:t=e.sent,c(t),n=Object.values(t[0]),a=Object.keys(t[0]),r=n.filter(function(e){return"string"===typeof e}),l=a.filter(function(e,t){return t<r.length}),d(l);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)(function(){T()},[]);var A=function(){var e=Object(E.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.links[0].href.match(/\d+/),e.next=3,k.deleteCustomer(n);case 3:T();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("p",null," Filter by ",r.a.createElement("b",null,S)," "),r.a.createElement("input",{label:"filter",value:u,onChange:function(e){i(e.target.value)}}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,p.map(function(e,t){return r.a.createElement("th",{key:t,className:"priority-".concat(t+1),onClick:function(){var t;S===(t=e)&&0===j?(D(t),g(1),"string"===typeof n[0][t]?c(Object(f.a)(n).sort(function(e,n){return n[t].localeCompare(e[t])})):c(Object(f.a)(n).sort(function(e,n){return n[t]-e[t]}))):(D(t),g(0),"string"===typeof n[0][t]?c(Object(f.a)(n).sort(function(e,n){return e[t].localeCompare(n[t])})):c(Object(f.a)(n).sort(function(e,n){return e[t]-n[t]})))}},e.toUpperCase())}),r.a.createElement("th",{className:"notHoverableHeader"},"ADD TRAINING"),r.a.createElement("th",{className:"notHoverableHeader"},"DELETE"))),r.a.createElement(x,{data:N,deleteCustomer:function(e){Object(C.confirmAlert)({title:"Confirm to delete",message:"Are you sure want to delete customer",buttons:[{label:"Yes",onClick:function(){return A(e)}},{label:"No",onClick:function(){return console.log("no")}}]})}})))}),D=function(){var e=Object(E.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://customerrest.herokuapp.com/api/trainings");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(t.status),e.abrupt("return",n.content);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(E.a)(h.a.mark(function e(){var t,n,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://customerrest.herokuapp.com/gettrainings");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,console.log(t.status),a=n.map(function(e,t){return{id:e.id,date:e.date,activity:e.activity,duration:e.duration,customer:e.customer.firstname+" "+e.customer.lastname}}),e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),T={fetchAll:D,create:function(){var e=Object(E.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://customerrest.herokuapp.com/api/trainings",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,console.log(n.status),e.abrupt("return",n.json());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),deleteTraining:function(){var e=Object(E.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://customerrest.herokuapp.com/api/trainings/".concat(t),{method:"DELETE",mode:"cors",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,console.log(n.status),e.abrupt("return",n.status);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getTrainings:N},A=n(221),F=n.n(A),q=n(91),L=n.n(q),I=function(){return L.a.momentLocalizer(F.a)},H=function(e){return new Date(e).toLocaleDateString("fi-FI")},z=function(e,t){var n=new Date(e),a=n.setMinutes(n.getMinutes()+30);return new Date(a)},J=function(e){return new Date(e)},W=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),o=Object(b.a)(l,2),u=o[0],i=o[1],s=Object(a.useState)(0),m=Object(b.a)(s,2),p=m[0],d=m[1],v=Object(a.useState)([]),y=Object(b.a)(v,2),j=y[0],g=y[1],O=Object(a.useState)(["activity"]),w=Object(b.a)(O,2),k=w[0],S=w[1],D=n.filter(function(e){return e[k].toString().toLowerCase().includes(u.toLowerCase())}),N=function(){var e=Object(E.a)(h.a.mark(function e(){var t,n,a,r,l,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getTrainings();case 2:t=e.sent,n=t.map(function(e,t){return{id:e.id,date:H(e.date),duration:e.duration,activity:e.activity,customer:e.customer}}),c(n),a=Object.values(n[0]),r=Object.keys(n[0]),l=a.filter(function(e){return"string"===typeof e}),o=r.filter(function(e,t){return t<=l.length}),g(o);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)(function(){N()},[]);var A=function(){var e=Object(E.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.deleteTraining(t.id);case 2:N();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("p",null," Filter by ",r.a.createElement("b",null,k)," "),r.a.createElement("input",{label:"filter",value:u,onChange:function(e){i(e.target.value)}}),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,j.map(function(e,t){return r.a.createElement("th",{className:"priority-".concat(t+1),key:t,onClick:function(){var t;k===(t=e)&&0===p?(d(1),"string"===typeof n[0][t]?c(Object(f.a)(n).sort(function(e,n){return e[t].localeCompare(n[t])})):c(Object(f.a)(n).sort(function(e,n){return n[t]-e[t]}))):(d(0),S(t),"string"===typeof n[0][t]?c(Object(f.a)(n).sort(function(e,n){return n[t].localeCompare(e[t])})):c(Object(f.a)(n).sort(function(e,n){return e[t]-n[t]})))}},e.toUpperCase())}),r.a.createElement("th",{className:"notHoverableHeader"},"DELETE"))),r.a.createElement(x,{data:D,deleteTraining:function(e){Object(C.confirmAlert)({title:"Confirm to delete",message:"Are you sure want to delete training",buttons:[{label:"Yes",onClick:function(){return A(e)}},{label:"No",onClick:function(){return console.log("no")}}]})}})))},B=function(e){var t=Object(a.useState)(e),n=Object(b.a)(t,2),r=n[0],c=n[1];return{value:r,onChange:function(e){c(e.target.value)}}},G=function(e){var t=B(""),n=B(""),a=B(""),c=function(){var r=Object(E.a)(h.a.mark(function r(c){var l;return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),l={date:a.value,duration:n.value,activity:t.value,customer:"http://customerrest.herokuapp.com/api/customers/".concat(e.id)},r.next=4,T.create(l);case 4:e.history.push("/customers");case 5:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:c},r.a.createElement("label",{htmlFor:"activity"},"activity"),r.a.createElement("input",Object.assign({id:"activity",placeholder:"activity",type:"text"},t,{required:!0})),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"duration"},"duration"),r.a.createElement("input",Object.assign({id:"duration",placeholder:"duration",min:"1",type:"number"},n,{required:!0})),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"date"},"date"),r.a.createElement("input",Object.assign({id:"date",placeholder:"date",type:"date"},a,{required:!0})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{value:"create",type:"submit"})))},M=n(532),P=n(533),R=n(50),U=n(39),Y=n.n(U),$=n(32),_=n.n($),K=n(33),Q=n.n(K),V=n(222),X=n.n(V),Z=n(92),ee=n.n(Z),te=n(34),ne=n.n(te),ae=n(49),re=n.n(ae),ce=Object(R.withStyles)(function(e){return{root:{width:"100%",maxWidth:"360px",backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"row"}}})(function(e){var t=e.classes;return r.a.createElement(M.a,null,r.a.createElement("div",null,r.a.createElement(Y.a,{component:"nav",className:t.root},r.a.createElement(v.a,{style:{textDecoration:"none"},to:"/customers"},r.a.createElement(_.a,{button:!0},r.a.createElement(Q.a,{primary:"customers"}),r.a.createElement(ne.a,null,r.a.createElement(re.a,null)))),r.a.createElement(X.a,null),r.a.createElement(v.a,{style:{textDecoration:"none"},to:"/trainings"},r.a.createElement(_.a,{button:!0,divider:!0},r.a.createElement(Q.a,{primary:"trainings"}),r.a.createElement(ne.a,null,r.a.createElement(ee.a,null))))),r.a.createElement("div",null,r.a.createElement(P.a,{path:"/customers",render:function(){return r.a.createElement(S,null)}}),r.a.createElement(P.a,{path:"/trainings",render:function(){return r.a.createElement(W,null)}}),r.a.createElement(P.a,{exact:!0,path:"/addtraining/:id",render:function(e){return r.a.createElement(G,Object.assign({},e,{id:e.match.params.id}))}}))))}),le=function(e){var t=B(""),n=B(""),a=B(""),c=B(""),l=B(""),o=B(""),u=B(""),i=function(){var r=Object(E.a)(h.a.mark(function r(i){var s;return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i.preventDefault(),s={firstname:t.value,lastname:n.value,streetaddress:a.value,postcode:c.value,city:l.value,email:o.value,phone:u.value},r.next=4,k.create(s);case 4:e.history.push("/customers");case 5:case"end":return r.stop()}},r,this)}));return function(e){return r.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:i},r.a.createElement("p",null," enter info "),r.a.createElement("label",{htmlFor:"firstname"},"firstname"),r.a.createElement("input",Object.assign({id:"firstname",placeholder:"firstname",type:"text"},t,{required:!0})),r.a.createElement("label",{htmlFor:"lastname"},"lastname"),r.a.createElement("input",Object.assign({id:"lastname",placeholder:"lastname",type:"text"},n,{required:!0})),r.a.createElement("label",{htmlFor:"streetaddress"},"streetaddress"),r.a.createElement("input",Object.assign({id:"streetaddress",placeholder:"streetaddress",type:"text"},a,{required:!0})),r.a.createElement("label",{htmlFor:"postcode"},"postcode"),r.a.createElement("input",Object.assign({id:"postcode",placeholder:"postcode",type:"text"},c,{required:!0})),r.a.createElement("label",{htmlFor:"city"},"city"),r.a.createElement("input",Object.assign({id:"city",placeholder:"city",type:"text"},l,{required:!0})),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"email"},"email"),r.a.createElement("input",Object.assign({id:"email",placeholder:"email@email.com",type:"email"},o,{required:!0})),r.a.createElement("label",{htmlFor:"phone"},"phone"),r.a.createElement("input",Object.assign({id:"phone",placeholder:"phone",type:"text"},u,{required:!0})),r.a.createElement("input",{value:"create",type:"submit"})))},oe=n(225),ue=n.n(oe),ie=n(224),se=n.n(ie),me=n(226),pe=n.n(me),fe=n(93),de=n.n(fe),he=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),o=Object(b.a)(l,2),u=o[0],i=o[1],s=function(){var e=Object(E.a)(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.fetchAll();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){s()},[]),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("div",null,r.a.createElement(se.a,{required:!0},r.a.createElement(ue.a,null,"Customer"),r.a.createElement(pe.a,{native:!0,value:u,onChange:function(e){i(e.target.value)}},r.a.createElement("option",{value:""}),n.map(function(e,t){return r.a.createElement("option",{key:t,value:e.links[0].href.match(/\d+/)},e.firstname," ",e.lastname)})))),r.a.createElement("div",null,""===u?null:r.a.createElement(v.a,{style:{textDecoration:"none"},to:"/addtraining/".concat(u)},r.a.createElement(de.a,{color:"primary"}," ADD TRAINING "))))},Ee=Object(R.withStyles)(function(e){return{root:{width:"100%",maxWidth:"360px",backgroundColor:e.palette.background.paper}}})(function(e){var t=e.classes;return r.a.createElement(M.a,null,r.a.createElement(Y.a,{component:"nav",className:t.root},r.a.createElement(v.a,{style:{textDecoration:"none"},to:"/customerform"},r.a.createElement(_.a,{button:!0},r.a.createElement(Q.a,{primary:"add customer"}),r.a.createElement(ne.a,null,r.a.createElement(re.a,null)))),r.a.createElement(v.a,{style:{textDecoration:"none"},to:"/selectcustomer"},r.a.createElement(_.a,{button:!0},r.a.createElement(Q.a,{primary:"add training"}),r.a.createElement(ne.a,null,r.a.createElement(ee.a,null)))),r.a.createElement("div",null,r.a.createElement(P.a,{path:"/customerform",render:function(e){return r.a.createElement(le,e)}}),r.a.createElement(P.a,{path:"/selectcustomer",render:function(e){return r.a.createElement(he,e)}}),r.a.createElement(P.a,{exact:!0,path:"/addtraining/:id",render:function(e){return r.a.createElement(G,Object.assign({},e,{id:e.match.params.id}))}}))))}),be=(n(526),function(e){var t=e.events,n=e.localizer,a=e.show;return r.a.createElement("div",{className:"calendar"},r.a.createElement(L.a,{localizer:n,events:t,startAccessor:"start",endAccessor:"end",selectable:!0,onSelectEvent:function(e){return a(e)},onSelectSlot:function(e){return a(e)}}))}),ve=function(){var e=I(),t=Object(a.useState)([]),n=Object(b.a)(t,2),c=n[0],l=n[1],o=function(){var e=Object(E.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.fetchAll();case 2:t=e.sent,n=t.map(function(e){return{title:e.activity,start:J(e.date),end:z(e.date,e.duration)}}),l(n);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)(function(){o()},[]);return r.a.createElement("div",null,r.a.createElement("h2",null," Calendar "),r.a.createElement(be,{events:c,localizer:e,show:function(e){console.log(e)}}))},ye=n(229),je=n.n(ye),ge=n(228),Oe=n.n(ge),we=n(227),xe=n.n(we),ke=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"customerrest_front"))},Ce=function(e){var t=e.index;return 0===t?r.a.createElement(xe.a,null):1===t?r.a.createElement(re.a,null):r.a.createElement(Oe.a,null)},Se=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={left:!1},n.toggleDrawer=function(e,t){return function(){n.setState(Object(o.a)({},e,t))}},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=r.a.createElement("div",{className:e.list},r.a.createElement(Y.a,null,["list","add","calendar"].map(function(e,t){return r.a.createElement(v.a,{style:{textDecoration:"none"},key:t,to:"/".concat(e)},r.a.createElement(_.a,{button:!0,key:e},r.a.createElement(ne.a,null,r.a.createElement(Ce,{index:t})),r.a.createElement(Q.a,{primary:e})))})));return r.a.createElement(M.a,null,r.a.createElement("div",null,r.a.createElement(de.a,{onClick:this.toggleDrawer("left",!0)},"Navigation"),r.a.createElement(je.a,{open:this.state.left,onClose:this.toggleDrawer("left",!1)},r.a.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer("left",!1)},t)),r.a.createElement(P.a,{exact:!0,path:"/",render:function(){return r.a.createElement(ke,null)}}),r.a.createElement(P.a,{path:"/list",render:function(){return r.a.createElement(ce,null)}}),r.a.createElement(P.a,{path:"/add",render:function(){return r.a.createElement(Ee,null)}}),r.a.createElement(P.a,{path:"/calendar",render:function(){return r.a.createElement(ve,null)}})))}}]),t}(r.a.Component),De=Object(R.withStyles)({list:{width:250},fullList:{width:"auto"}})(Se);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(De,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[232,1,2]]]);
//# sourceMappingURL=main.c5fbf3fd.chunk.js.map